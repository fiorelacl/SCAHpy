# Installation

This section describes the recommended methods for installing **SCAHpy**, both in local environments and on high-performance computing (HPC) clusters.
The package is designed to work within modern scientific ecosystems that mainly rely on *xarray*, *netCDF4*, *matplotlib*.


## Prerequisites

Before installing SCAHpy, verify the following:

* **Python** version **3.9** or higher
* mamba or conda installed (recommended)
* Internet access to download dependencies from *conda-forge* or *PyPI*
* On HPC systems, make sure to install in your HOME directory (avoid system paths)

Optional packages:

* `cartopy` for geographic visualization
* `dask` for parallel processing (highly recommended on HPC)
* `jupyterlab` for interactive environments

## **Step-by-step instructions**

These instructions should work across most operating systems, including *Windows*, *macOS*, and *Linux*, as `Conda` and `Miniforge` are designed to be cross-platform. However, slight differences in installation steps or command syntax may occur depending on the system.

To ensure clarity and compatibility across all platforms, consider the following:

### **Windows**

* You may need to open the terminal or Command Prompt as an administrator to execute certain commands.
* Paths in the terminal must use backslashes (`\`) instead of slashes (`/`).

### **macOS**

* Users may need to install the *Command Line Developer Tools* if they have not already done so. This can be done by running
  `xcode-select --install`
  in the terminal.
* Ensure the user has permission to execute scripts and install packages.

### **Linux**

* Some Linux distributions may require additional dependencies or configurations for Conda or Miniforge to work correctly. It is advisable to check the documentation of the specific distribution.

---

## **Using Mamba**

### 1. Download and install Mamba

Before installing `scahpy`, ensure that Mamba is installed. Mamba is a very fast package manager compatible with Conda and can be installed via Miniforge.

* Visit the [Miniforge GitHub page](https://github.com/conda-forge/miniforge) and download the appropriate version for your operating system.

### 2. Install SCAHpy and dependencies

* The recommended approach to install `scahpy` together with all required dependencies is to use the `environment.yml` file.

* Download the file from the [SCAHpy GitHub repository](https://github.com/fiorelacl/SCAHpy/blob/4ec3cca0a13444411a0dcb28221f3ee982a2594b/environment.yml).

* From the terminal, navigate to the directory where the file is located and run:

```bash
mamba env create --file environment.yml -n scahpy_env
```

* This will create a Conda environment called `scahpy_env` and install all necessary packages.

Once the process completes, the environment will be ready to run `scahpy`.

---

## **Using pip**

1. First, make sure you have Python and pip installed. You can download Python from the [official Python website](https://www.python.org/downloads/); pip is usually included by default.

2. The simplest way to install `scahpy` and its dependencies using pip is to create a virtual environment and install the packages using a `requirements.txt` file.

In the terminal:

```bash
# Create a virtual environment (optional but recommended)
python -m venv scahpy_env

# Activate the virtual environment
# On Windows:
scahpy_env\Scripts\activate
# On macOS/Linux:
source scahpy_env/bin/activate

# Install scahpy and dependencies from requirements.txt
pip install -r requirements.txt
```

In this example, `requirements.txt` should contain the list of dependencies—including `scahpy`—with their corresponding versions. This file must be created beforehand; you may use the previously provided environment.yml as reference.

