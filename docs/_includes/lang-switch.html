<script>
  function switchLang() {
    const url = new URL(window.location.href);
    let path = url.pathname;

    // Si por alguna razón caemos en /SCAHpy/ a secas, manda al home en español
    if (path === "/SCAHpy/" || path === "/SCAHpy") {
      url.pathname = "/SCAHpy/es/";
      window.location.href = url.toString();
      return;
    }

    if (path.includes("/es/")) {
      // ESPAÑOL → INGLÉS
      const newPath = path
        .replace("/es/", "/en/")
        .replace(/\.html$/, "_en.html");   // archivo.html → archivo_en.html

      url.pathname = newPath;
      window.location.href = url.toString();
      return;
    }

    if (path.includes("/en/")) {
      // INGLÉS → ESPAÑOL
      const newPath = path
        .replace("/en/", "/es/")
        .replace("_en.html", ".html");

      url.pathname = newPath;
      window.location.href = url.toString();
      return;
    }

    // Fallback: manda al home español
    url.pathname = "/SCAHpy/es/";
    window.location.href = url.toString();
  }
</script>

<div class="lang-switch" style="margin: 1rem 0;">
  <button onclick="switchLang()">Cambiar idioma / Switch language</button>
</div>



